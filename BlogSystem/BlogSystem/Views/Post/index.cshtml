@using BlogSystem.ViewModels
@model BlogSystem.ViewModels.PostViewModel

<div class="postDetails" id="postDetails">
    <h1>@Model.Name</h1>
    <h6>Created by: @Model.Username on @String.Format($"{Model.DateCreated:f}")</h6>

    <article>@Model.Content</article>

    <br/>
    <h4>Comments</h4>
    @if (Model.Comments.Count > 0)
    {
        foreach (var comment in Model.Comments.OrderByDescending(p => p.CreatedAt))
        {
            <div class="row comment">
                <h3>By: @comment.Author</h3>
                <article>@comment.Text</article>
                <span>@String.Format($"{comment.CreatedAt:f}")</span>
            </div>
        }
    }
    else
    {
        <p>No comments</p>
    }


    @* @Html.ActionLink("Add mew comment", "AddComment", "Comments", new { id = Model.Id }, new { @class = "btn btn-default" })*@
</div>


@Html.Partial("_addComment", new CommentViewModel(), new ViewDataDictionary { {"postId", Model.Id}});